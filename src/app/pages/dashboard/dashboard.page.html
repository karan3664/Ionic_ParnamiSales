<ion-header tappable>
  <ion-toolbar color="light">
    <ion-menu-button slot="start">
      <ion-icon name="menu"></ion-icon>
    </ion-menu-button>

    <img src="assets/logo_header.png" (click)="ReloadHome()">
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="goToSearchPage()">
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
      <div class="animate__animated animate__bounce">
        <ion-button fill="clear" (click)="goToCartPage()" #numberbtn>
          <ion-icon class="cart-badge" name="cart-outline"></ion-icon>
          <ion-badge>{{total_cart}}</ion-badge>
        </ion-button>
      </div>


    </ion-buttons>

  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-refresher slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content>
    </ion-refresher-content>
  </ion-refresher>

  <!-- skeleton text until data not loaded -->
  <div *ngIf="dummy?.length">
    <ion-skeleton-text animated style="width: 100%; height: 150px;"></ion-skeleton-text>
    <ion-grid>
      <ion-row>
        <ion-col size="6">
          <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>

        </ion-col>
        <ion-col size="6">
          <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>

        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    <ion-grid>
      <ion-row>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
    <ion-grid>
      <ion-row>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
        <ion-col size="3" style="align-items: center;">
          <ion-thumbnail>
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>

    <div *ngFor="let item of dummy">
      <ion-list lines="none">
        <ion-item>
          <ion-thumbnail slot="start">
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3>
              <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
            </h3>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>

  </div>

  <div *ngIf="!dummy?.length">

    <app-banner></app-banner>

    <div>



      <ion-segment fixed mode="md" [(ngModel)]="segment">
        <ion-segment-button value="home">
          <ion-label>
            Home
          </ion-label>
        </ion-segment-button>
        <ion-segment-button value="categories">
          <ion-label>
            Categories
          </ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>

    <div [ngSwitch]="segment">
      <div *ngSwitchCase="'home'" color="light">
        <div>

          <!-- <div class="noData" *ngIf="!dummy?.length || !newestItems?.length || !OfferedProduct?.length"
            [style.backgroundImage]="'url(assets/nothing.jpg)'">
          </div>
          <div *ngIf="!dummy?.length || !newestItems?.length || !OfferedProduct?.length" [style.backgroundImage]="'url(assets/nothing.jpg)'">
          </div> -->
          <div *ngIf="newestItems?.length">
            <ion-item lines="none" style="margin: 10px;">
              <ion-label class="label-cat">
                <p>Collection</p>
              </ion-label>
              <ion-button color="primary" (click)="goToProductPage()" slot="end" fill="clear" class="icon-shop-more">
                View More
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </ion-button>
            </ion-item>

            <div>
              <ion-slides class="animated bounceInRight delay-900ms" [options]="sliderConfig">
                <ion-slide *ngFor="let p of newestItems" >
                  <ion-card>
                    <div (click)="goToProductDetail(p.id)" class="dhe">
                      <img src="http://parnamib2b.com/public/product_images/{{p.default_image}}" style="height: 200px;"/>
                      <p style="font-weight: bold;">{{p.product_name}}</p>
                      <ion-row>
                        <ion-col size="12">
                          <div *ngIf="p.discounted_price === null">
                            <p> MRP: ₹ {{p.price}} </p>

                          </div>
                          <div *ngIf="p.discounted_price != null">
                            <p>MRP: ₹ {{p.price}} </p>
                            <!-- <p>Your Price</p> -->
                            <p>Your Price : ₹ {{p.discounted_price}} </p>
                          </div>
                        </ion-col>
                        <!-- <ion-col *ngIf="p.discounted_price != null" size="12">
                      <ion-button expand="outline" size="small">
                        <div *ngIf="p.discount_res.dicount_type === 'Percentage'">
                          <ion-label class="heading_lbl">{{p.discount_res.dicount}} %</ion-label>

                        </div>
                        <div *ngIf="p.discount_res.dicount_type != 'Percentage'">
                          <ion-label class="heading_lbl"> Flat {{p.discount_res.dicount}}</ion-label>

                        </div>

                      </ion-button>
                    </ion-col> -->
                      </ion-row>
                    </div>


                    <div class="div-recent-btn">
                      <ion-button color="primary"
                        (click)="goToCart(p.id,p.price,p.product_packages, p.discounted_price, p.discount_res)">
                        <ion-label color="light">
                          Add to cart
                        </ion-label>
                      </ion-button>
                    </div>
                  </ion-card>
                  <!-- <ion-card>
                    <img src="http://parnamib2b.com/public/product_images/{{p.default_image}}"
                      (click)="goToProductDetail(p.id)" />
                    <p>{{p.product_name}}</p>
                    <ion-row>
                      <ion-col size="6">
                        <div *ngIf="p.discounted_price === null">
                          <p><span> MRP. {{p.price}}</span></p>
                        </div>
                        <div *ngIf="p.discounted_price != null">
                          <p><del>MRP. {{p.price}}</del></p>
                          <p><span> MRP. {{p.discounted_price}}</span></p>
                        </div>
                      </ion-col>
                      <ion-col *ngIf="p.discounted_price != null" size="6">
                        <ion-button expand="outline" size="small">
                          <div *ngIf="p.discount_res.dicount_type === 'Percentage'">
                            <ion-label class="heading_lbl">{{p.discount_res.dicount}} %</ion-label>
        
                          </div>
                          <div *ngIf="p.discount_res.dicount_type != 'Percentage'">
                            <ion-label class="heading_lbl"> Flat {{p.discount_res.dicount}}</ion-label>
        
                          </div>
        
                        </ion-button>
                      </ion-col>
                    </ion-row>
                    <div class="div-recent-btn">
                      <ion-button color="primary"
                        (click)="goToCart(p.id,p.price,p.product_packages, p.discounted_price, p.discount_res)">
                        <ion-label color="light">
                          Add to cart
                        </ion-label>
                      </ion-button>
                    </div>
                  </ion-card> -->
                </ion-slide>
                <ion-slide>
                  <ion-button (click)="goToProductPage()" fill="clear" class="icon-shop-more"> Shop More
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                  </ion-button>
                </ion-slide>
              </ion-slides>


            </div>


          </div>

          <div *ngIf="OfferedProduct?.data.length">
            <ion-item lines="none" style="margin: 10px;">
              <ion-label class="label-cat">
                <p>Featured Product</p>
              </ion-label>
              <ion-button color="primary" (click)="goToProductPage()" slot="end" fill="clear" class="icon-shop-more">
                View
                More
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </ion-button>
            </ion-item>

            <div>
              <ion-slides class="animated bounceInRight delay-900ms" [options]="sliderConfig">
                <ion-slide *ngFor="let p of OfferedProduct?.data">


                  <ion-card>
                    <div (click)="goToProductDetail(p.id)"  class="dhe">


                      <img src="http://parnamib2b.com/public/product_images/{{p.default_image}}" style="height: 200px;" />
                      <p style="font-weight: bold;">{{p.product_name}}</p>
                      <!-- <p><span> MRP. {{p.price}}</span></p> -->

                      <ion-row>
                        <ion-col size="12">
                          <div *ngIf="p.discounted_price === null">
                            <p>MRP: ₹ {{p.price}} </p>
                            <!-- <p><span><del>MRP. {{p.price}}</del> </span></p> -->
                          </div>
                          <div *ngIf="p.discounted_price != null">
                            <p>MRP: ₹ {{p.price}} </p>
                            <p></p>
                            <p>Your Price : ₹ {{p.discounted_price}} </p>
                          </div>
                        </ion-col>

                      </ion-row>
                    </div>


                    <div class="div-recent-btn">
                      <ion-button color="primary"
                        (click)="goToCart(p.id,p.price,p.product_packages, p.discounted_price, p.discount_res)">
                        <ion-label color="light">
                          Add to cart
                        </ion-label>
                      </ion-button>
                    </div>
                  </ion-card>

                </ion-slide>
                <ion-slide>
                  <ion-button (click)="goToProductPage()" fill="clear" class="icon-shop-more"> Shop More
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                  </ion-button>
                </ion-slide>
              </ion-slides>


            </div>


          </div>
        </div>
      </div>


      <div *ngSwitchCase="'categories'" color="light">


        <div class="noData" *ngIf="!dummy?.length && !Categories?.length"
          [style.backgroundImage]="'url(assets/nothing.jpg)'">
        </div>
        <div *ngIf="!dummy?.length && !Categories?.length" [style.backgroundImage]="'url(assets/nothing.jpg)'">
        </div>


        <div>

          
          <!-- <ion-grid no-padding>
            <ion-row>
              <ion-col class="col" size="4" *ngFor="let p of Categories"  (click)="goToProduct(p.id,p.name)" > 
                <div>
        
                  <div *ngIf="p.image_name == null">
        
                    <img src="assets/diet.svg" (click)="goToProduct(p.id,p.name_en)" />
                  </div>
                  <div *ngIf="p.image_name != null">
                    <img src="http://parnamib2b.com/public/category_images/{{p.image_name}}"
                     />
                  </div>
        
        
                  <p>{{p.name}}</p>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid> -->

          <!-- <ion-list>

            <ion-item *ngFor="let p of Categories" (click)="goToProduct(p.id,p.name)">
              <ion-thumbnail slot="start">
                <img src="http://parnamib2b.com/public/category_images/{{p.image_name}}">
              </ion-thumbnail>
              <ion-label> {{p.name}}</ion-label>
            </ion-item>
          </ion-list> -->
          <ion-grid>
            <ion-row>
              <ion-col size="6" style="text-align: center;" *ngFor="let p of Categories"
                (click)="goToCategoryProduct(p.id,p.category_name)">
                <div class="box2" color="primary">
                  <img class="imggg" src="http://parnamib2b.com/public/category_images/{{p.image_name}}" />
                  <p>{{p.category_name}}</p>


                </div>

              </ion-col>
            </ion-row>
          </ion-grid>

        </div>


      </div>

    </div>

  </div>

</ion-content>